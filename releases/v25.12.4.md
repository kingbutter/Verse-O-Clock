### v25.12.4 — Still, Small, and Reliable

This release hardens **over-the-air updates** for real-world use, especially on mobile devices. Verse-O-Clock now handles browser sleep, Wi-Fi handoff, and device reboots gracefully during updates — without false failures or user confusion.

The clock updates quietly, correctly, and tells the truth about what’s happening.

---

## Highlights

OTA Reliability (Major)
- OTA updates now run **fully device-driven**
- Mobile browsers may sleep, disconnect, or reload without breaking updates
- The update process no longer depends on a long-lived browser connection

OTA is now safe to run from phones and tablets.

---

OTA Status Endpoint (New)
- Added a dedicated `/ota_status` endpoint
- The device reports its own update state:
  - `idle`
  - `running`
  - `error`
- The web UI polls device state instead of guessing

This ensures the UI reflects reality, even across reboots.

---

Mobile-Safe OTA UX
- “Apply failed” is no longer shown for expected disconnects
- During reboot or Wi-Fi changes, the UI shows:
  - **Reconnecting…**
- Once the device returns, the UI automatically settles to:
  - **Up to date (v25.12.4)**

False negatives are eliminated.

---

OTA Completion Accuracy
- OTA completion is now reported correctly after reboot
- Finished updates are treated as a clean “idle” state
- The firmware version display reliably refreshes post-update

Users no longer need to reload the page to confirm success.

---

Technical Notes
- OTA state is tracked on the device, not inferred by the browser
- Update flow tolerates:
  - phone screen lock
  - Wi-Fi renegotiation
  - captive portal transitions
  - automatic device reboot
- OTA status responses are JSON-escaped to prevent UI breakage
- No changes to verse content, filesystem layout, or display cadence

---

Compatibility
- Safe upgrade from v25.12.3
- No changes to Offline Mode behavior
- Fully compatible with existing content repositories
- No impact to clock accuracy or verse selection

---

Supported Hardware
- Seeed XIAO ESP32-C3
- 7.5 inch e-Paper display (GDEY075T7 or equivalent)
- LittleFS partition for verse storage

---

Verse-O-Clock  
Quietly faithful — even when the network isn’t.
